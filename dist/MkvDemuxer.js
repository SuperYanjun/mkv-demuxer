(()=>{var t={969:(t,e,i)=>{const s=i(534);t.exports=class extends s{constructor(t,e){super(),this.dataInterface=e,this.offset=t.offset,this.size=t.size,this.end=t.end,this.loaded=!1,this.rate=null,this.channel=null,this.bitDepth=null}async load(){for(;this.dataInterface.offset<this.end;){if(!this.currentElement&&(this.currentElement=await this.dataInterface.peekElement(),null===this.currentElement))return;switch(this.currentElement.id){case 181:const t=await this.dataInterface.readFloat(this.currentElement.size);if(null===t)return;this.rate=t;break;case 159:const e=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===e)return;this.channels=e;break;case 25188:const i=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===i)return;this.bitDepth=i;break;default:if(!1===await this.dataInterface.skipBytes(this.currentElement.size))return}this.currentElement=null}this.loaded=!0}}},143:t=>{t.exports=class{constructor(t,e){this.dataInterface=e,this.offset=t.offset,this.size=t.size,this.end=t.end,this.loaded=!1,this.tempElement=null,this.currentElement=null}async load(){const t=this.end;for(;this.dataInterface.offset<t;){if(!this.currentElement&&(this.currentElement=await this.dataInterface.peekElement(),null===this.currentElement))return;switch(this.currentElement.id){case 161:if(null===await this.dataInterface.getBinary(this.currentElement.size))return;break;case 155:const t=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===t)return;this.blockDuration=t;break;case 251:const e=await this.dataInterface.readSignedInt(this.currentElement.size);if(null===e)return;this.referenceBlock=e;break;case 30114:const i=await this.dataInterface.readSignedInt(this.currentElement.size);if(null===i)return;this.discardPadding=i;break;default:if(!1===await this.dataInterface.skipBytes(this.currentElement.size))return}this.currentElement=null}this.loaded=!0}}},676:(t,e,i)=>{const s=i(823),r=i(202),a=i(143);t.exports=class{constructor(t,e,i,a,n,h){this.demuxer=h,this.dataInterface=n,this.offset=t,this.size=e,this.end=i,this.dataOffset=a,this.loaded=!1,this.currentElement=null,this.timeCode=null,this.tempBlock=null,this.position=null,this.tempElementHeader=new s(-1,-1,-1,-1),this.tempElementHeader.reset(),this.tempBlock=new r,this.blockGroups=[]}async load(){for(;this.dataInterface.offset<this.end;){if(!this.tempElementHeader.status&&(await this.dataInterface.peekAndSetElement(this.tempElementHeader),!this.tempElementHeader.status))return;switch(this.tempElementHeader.id){case 231:const t=await this.dataInterface.readUnsignedInt(this.tempElementHeader.size);if(null===t)return;this.timeCode=t;break;case 163:if(this.tempBlock.status||this.tempBlock.init(this.tempElementHeader.offset,this.tempElementHeader.size,this.tempElementHeader.end,this.tempElementHeader.dataOffset,this.dataInterface,this),await this.tempBlock.load(!0),!this.tempBlock.loaded)return;this.tempBlock.reset();break;case 167:const e=await this.dataInterface.readUnsignedInt(this.tempElementHeader.size);if(null===e)return;this.position=e;break;case 160:if(this.currentBlockGroup||(this.currentBlockGroup=new a(this.tempElementHeader.getData(),this.dataInterface)),await this.currentBlockGroup.load(),!this.currentBlockGroup.loaded)return;this.blockGroups.push(this.currentBlockGroup),this.currentBlockGroup=null;break;case 171:const i=await this.dataInterface.readUnsignedInt(this.tempElementHeader.size);if(null===i)return;this.prevSize=i;break;case 191:if(null===await this.dataInterface.getBinary(this.tempElementHeader.size))return;break;default:if(!1===await this.dataInterface.skipBytes(this.tempElementHeader.size))return}this.tempElementHeader.reset()}this.loaded=!0}async loadTimeCode(){for(;this.dataInterface.offset<this.end&&!this.timeCode;){if(!this.tempElementHeader.status&&(await this.dataInterface.peekAndSetElement(this.tempElementHeader),!this.tempElementHeader.status))return;if(231===this.tempElementHeader.id){const t=await this.dataInterface.readUnsignedInt(this.tempElementHeader.size);if(null===t)return;this.timeCode=t}else if(!1===await this.dataInterface.skipBytes(this.tempElementHeader.size))return;this.tempElementHeader.reset()}}async loadBlock(){let t;if(!this.tempElementHeader.status&&(await this.dataInterface.peekAndSetElement(this.tempElementHeader),!this.tempElementHeader.status))return null;switch(this.tempElementHeader.id){case 163:if(this.tempBlock.status||this.tempBlock.init(this.tempElementHeader.offset,this.tempElementHeader.size,this.tempElementHeader.end,this.tempElementHeader.dataOffset,this.dataInterface,this),t=await this.tempBlock.load(!1),!this.tempBlock.loaded)return null;this.tempBlock.reset();break;case 160:if(console.log("frame: blockgroup"),this.currentBlockGroup||(this.currentBlockGroup=new a(this.tempElementHeader.getData(),this.dataInterface)),await this.currentBlockGroup.load(),!this.currentBlockGroup.loaded)return null;this.currentBlockGroup=null;break;default:if(!1===await this.dataInterface.skipBytes(this.tempElementHeader.size))return null}return this.tempElementHeader.reset(),t}}},497:t=>{t.exports=class{constructor(t,e){this.dataInterface=e,this.offset=t.offset,this.size=t.size,this.end=t.end,this.loaded=!1,this.currentElement=null,this.cueTrack=null,this.cueClusterPosition=0,this.cueRelativePosition=0}async load(){for(;this.dataInterface.offset<this.end;){if(!this.currentElement&&(this.currentElement=await this.dataInterface.peekElement(),null===this.currentElement))return;switch(this.currentElement.id){case 247:const i=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===i)return;this.cueTrack=i;break;case 241:var t=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===t)return;this.cueClusterPosition=t;break;case 240:var e=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===e)return;this.cueRelativePosition=e;break;default:if(!1===await this.dataInterface.skipBytes(this.currentElement.size))return}this.currentElement=null}this.loaded=!0}}},359:(t,e,i)=>{const s=i(497);class r{constructor(t,e){this.dataInterface=e,this.offset=t.offset,this.size=t.size,this.end=t.end,this.loaded=!1,this.currentElement=null,this.cueTime=null,this.cueTrackPositions=null}async load(){const t=this.end;for(;this.dataInterface.offset<t;){if(!this.currentElement&&(this.currentElement=await this.dataInterface.peekElement(),null===this.currentElement))return;switch(this.currentElement.id){case 183:if(this.cueTrackPositions||(this.cueTrackPositions=new s(this.currentElement,this.dataInterface)),await this.cueTrackPositions.load(),!this.cueTrackPositions.loaded)return;break;case 179:var e=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===e)return;this.cueTime=e;break;default:if(!1===await this.dataInterface.skipBytes(this.currentElement.size))return}this.currentElement=null}this.loaded=!0}}t.exports=class{constructor(t,e,i){this.dataInterface=e,this.offset=t.offset,this.size=t.size,this.end=t.end,this.entries=[],this.loaded=!1,this.tempEntry=null,this.demuxer=i,this.currentElement=null}async load(){const t=this.end;for(;this.dataInterface.offset<t;){if(!this.currentElement&&(this.currentElement=await this.dataInterface.peekElement(),null===this.currentElement))return;switch(this.currentElement.id){case 187:if(this.tempEntry||(this.tempEntry=new r(this.currentElement,this.dataInterface)),await this.tempEntry.load(),!this.tempEntry.loaded)return;this.entries.push(this.tempEntry);break;case 191:if(null===await this.dataInterface.getBinary(this.currentElement.size))return;break;default:if(!1===await this.dataInterface.skipBytes(this.currentElement.size))return}this.tempEntry=null,this.currentElement=null}this.loaded=!0}}},476:(t,e,i)=>{const s=-1,r=i(823);t.exports=class{constructor(t){this.demuxer=t,this.overallPointer=0,this.internalPointer=0,this.currentBuffer=null,this.dataBufferOffsets=[],this.tempFloat64=new DataView(new ArrayBuffer(8)),this.tempFloat32=new DataView(new ArrayBuffer(4)),this.tempBinaryBuffer=null,this.tempElementOffset=null,this.tempElementDataOffset=null,this.tempSize=null,this.tempOctetWidth=null,this.tempOctet=null,this.tempByteBuffer=0,this.tempByteCounter=0,this.tempElementId=null,this.tempElementSize=null,this.tempVintWidth=null,this.tempResult=null,this.tempCounter=s,this.usingBufferedRead=!1,Object.defineProperty(this,"offset",{get:function(){return this.overallPointer},set:function(t){this.overallPointer=t}}),Object.defineProperty(this,"remainingBytes",{get:function(){return this.currentBuffer?this.currentBuffer.byteLength-this.internalPointer:0}})}flush(){this.overallPointer=0,this.internalPointer=0,this.currentBuffer=null,this.dataBufferOffsets=[],this.tempFloat64=new DataView(new ArrayBuffer(8)),this.tempFloat32=new DataView(new ArrayBuffer(4)),this.tempBinaryBuffer=null,this.tempElementOffset=null,this.tempElementDataOffset=null,this.tempSize=null,this.tempOctetWidth=null,this.tempOctet=null,this.tempByteBuffer=0,this.tempByteCounter=0,this.tempElementId=null,this.tempElementSize=null,this.tempVintWidth=null,this.tempResult=null,this.tempCounter=s,this.usingBufferedRead=!1}async recieveInput(){let t;if(this.filePieceSize=this.demuxer.filePieceSize,this.demuxer.currentFileOffset<this.demuxer.fileSize){const e=this.filePieceSize+this.demuxer.currentFileOffset>=this.demuxer.fileSize?this.demuxer.fileSize:this.filePieceSize+this.demuxer.currentFileOffset;if(null===this.currentBuffer){const i=[this.demuxer.currentFileOffset,e];t=await this.demuxer.file.slice(i[0],i[1]).arrayBuffer(),this.currentBuffer=new DataView(t),this.internalPointer=0}else this.dataBufferOffsets.push([this.demuxer.currentFileOffset,e]);this.demuxer.currentFileOffset=e}}async popBuffer(){if(0===this.remainingBytes){if(this.dataBufferOffsets.length>0){const t=this.dataBufferOffsets.shift(),e=await this.demuxer.file.slice(t[0],t[1]).arrayBuffer();this.currentBuffer=new DataView(e)}else this.offset<this.demuxer.fileSize?(await this.recieveInput(),await this.popBuffer()):this.currentBuffer=null;this.internalPointer=0}}async jumpToPosition(t){this.demuxer.currentFileOffset=0,this.flush(),this.demuxer.currentFileOffset=t,this.overallPointer=t,await this.recieveInput(),await this.popBuffer()}async readDate(t){return await this.readSignedInt(t)}async readId(){if(!this.currentBuffer)return null;let t;for(this.tempOctet||(this.tempElementOffset=this.overallPointer,this.tempOctet=this.currentBuffer.getUint8(this.internalPointer),await this.incrementPointers(1),this.tempOctetWidth=this.calculateOctetWidth()),this.tempByteCounter||(this.tempByteCounter=0);this.tempByteCounter<this.tempOctetWidth;){if(!this.currentBuffer)return null;0===this.tempByteCounter?this.tempByteBuffer=this.tempOctet:(t=await this.readByte(),this.tempByteBuffer=this.tempByteBuffer<<8|t),this.tempByteCounter++,await this.popBuffer()}let e=this.tempByteBuffer;return this.tempOctet=null,this.tempByteCounter=null,this.tempByteBuffer=null,this.tempOctetWidth=null,e}async readLacingSize(){let t=await this.readVint();if(null===t)return null;switch(this.lastOctetWidth){case 1:t-=63;break;case 2:t-=8191;break;case 3:t-=1048575;break;case 4:t-=134217727}return t}async readVint(){if(!this.currentBuffer)return null;let t;this.tempOctet||(this.tempOctet=this.currentBuffer.getUint8(this.internalPointer),await this.incrementPointers(1),this.tempOctetWidth=this.calculateOctetWidth()),this.tempByteCounter||(this.tempByteCounter=0);let e=this.tempOctetWidth;for(;this.tempByteCounter<e;){if(!this.currentBuffer)return null;if(0===this.tempByteCounter){let t=(255<<e&255)>>e;this.tempByteBuffer=this.tempOctet&t}else t=await this.readByte(),this.tempByteBuffer=this.tempByteBuffer<<8|t;this.tempByteCounter++,await this.popBuffer()}let i=this.tempByteBuffer;return this.tempOctet=null,this.lastOctetWidth=this.tempOctetWidth,this.tempOctetWidth=null,this.tempByteCounter=null,this.tempByteBuffer=null,i}async readByte(){if(!this.currentBuffer)return null;const t=this.currentBuffer.getUint8(this.internalPointer);return await this.incrementPointers(1),t}async readSignedByte(){if(!this.currentBuffer)return null;const t=this.currentBuffer.getInt8(this.internalPointer);return await this.incrementPointers(1),t}async peekElement(){if(!this.currentBuffer)return null;if(!this.tempElementId&&(this.tempElementId=await this.readId(),null===this.tempElementId))return null;if(!this.tempElementSize&&(this.tempElementSize=await this.readVint(),null===this.tempElementSize))return null;const t=new r(this.tempElementId,this.tempElementSize,this.tempElementOffset,this.overallPointer);return this.tempElementId=null,this.tempElementSize=null,this.tempElementOffset=null,t}async peekAndSetElement(t){this.currentBuffer&&(this.tempElementId||(this.tempElementId=await this.readId(),null!==this.tempElementId))&&(this.tempElementSize||(this.tempElementSize=await this.readVint(),null!==this.tempElementSize))&&(t.init(this.tempElementId,this.tempElementSize,this.tempElementOffset,this.overallPointer),this.tempElementId=null,this.tempElementSize=null,this.tempElementOffset=null)}peekBytes(t){return this.remainingBytes-t>=0}async skipBytes(t){let e=0;for(this.tempCounter===s&&(this.tempCounter=0);this.tempCounter<t;){if(!this.currentBuffer)return!1;e=t-this.tempCounter>this.remainingBytes?this.remainingBytes:t-this.tempCounter,await this.incrementPointers(e),this.tempCounter+=e}return this.tempCounter=s,!0}getRemainingBytes(){return this.currentBuffer?this.currentBuffer.byteLength-this.internalPointer:0}calculateOctetWidth(){let t=0,e=128;do{if(this.tempOctet&e)break;e>>=1,t++}while(t<8);return t+1}async incrementPointers(t){const e=t||0;this.internalPointer+=e,this.overallPointer+=e,await this.popBuffer()}async readUnsignedInt(t){if(!this.currentBuffer)return null;let e;for((t<=0||t>8)&&console.warn("invalid file size"),null===this.tempResult&&(this.tempResult=0),this.tempCounter===s&&(this.tempCounter=0);this.tempCounter<t;){if(!this.currentBuffer)return null;e=await this.readByte(),0===this.tempCounter&&e<0&&console.warn("invalid integer value"),this.tempResult<<=8,this.tempResult|=e,await this.popBuffer(),this.tempCounter++}let i=this.tempResult;return this.tempResult=null,this.tempCounter=s,i}async readSignedInt(t){if(!this.currentBuffer)return null;let e;for((t<=0||t>8)&&console.warn("invalid file size"),null===this.tempResult&&(this.tempResult=0),this.tempCounter===s&&(this.tempCounter=0);this.tempCounter<t;){if(!this.currentBuffer)return null;e=0===this.tempCounter?await this.readByte():await this.readSignedByte(),this.tempResult<<=8,this.tempResult|=e,await this.popBuffer(),this.tempCounter++}let i=this.tempResult;return this.tempResult=null,this.tempCounter=s,i}async readString(t){this.tempString||(this.tempString=""),this.tempCounter===s&&(this.tempCounter=0);let e="";for(;this.tempCounter<t;){if(!this.currentBuffer)return this.tempString+=e,null;e+=String.fromCharCode(await this.readByte()),await this.popBuffer(),this.tempCounter++}this.tempString+=e;const i=this.tempString;return this.tempString=null,this.tempCounter=s,i}async readFloat(t){if(8===t){let e;for(this.tempCounter===s&&(this.tempCounter=0),null===this.tempResult&&(this.tempResult=0,this.tempFloat64.setFloat64(0,0));this.tempCounter<t;){if(!this.currentBuffer)return null;e=await this.readByte(),this.tempFloat64.setUint8(this.tempCounter,e),await this.popBuffer(),this.tempCounter++}this.tempResult=this.tempFloat64.getFloat64(0)}else{if(4!==t)return console.warn("INVALID FLOAT LENGTH"),null;{let e;for(this.tempCounter===s&&(this.tempCounter=0),null===this.tempResult&&(this.tempResult=0,this.tempFloat32.setFloat32(0,0));this.tempCounter<t;){if(!this.currentBuffer)return null;e=await this.readByte(),this.tempFloat32.setUint8(this.tempCounter,e),await this.popBuffer(),this.tempCounter++}this.tempResult=this.tempFloat32.getFloat32(0)}}let e=this.tempResult;return this.tempResult=null,this.tempCounter=s,e}async getBinary(t){if(!this.currentBuffer)return null;if(this.usingBufferedRead&&null===this.tempCounter)return console.warn("COUNTER WAS ERASED"),null;if(this.remainingBytes>=t&&!this.usingBufferedRead){if(!this.currentBuffer)return null;let e=this.currentBuffer.buffer.slice(this.internalPointer,this.internalPointer+t);return await this.incrementPointers(t),e}if(!1===this.usingBufferedRead&&this.tempCounter>0)return console.warn("INVALID BUFFERED READ"),null;this.usingBufferedRead=!0,this.tempBinaryBuffer||(this.tempBinaryBuffer=new Uint8Array(t)),this.tempCounter===s&&(this.tempCounter=0);let e,i=0;for(;this.tempCounter<t;){if(!this.currentBuffer)return this.usingBufferedRead,null;i=t-this.tempCounter>=this.remainingBytes?this.remainingBytes:t-this.tempCounter,e=new Uint8Array(this.currentBuffer.buffer,this.internalPointer,i),this.tempBinaryBuffer.set(e,this.tempCounter),await this.incrementPointers(i),this.tempCounter+=i}this.tempCounter!==t&&console.warn("invalid read");let r=this.tempBinaryBuffer;return this.tempBinaryBuffer=null,this.tempCounter=s,this.usingBufferedRead=!1,null===r.buffer?(console.warn("Missing buffer"),null):r.buffer}}},823:t=>{t.exports=class{constructor(t,e,i,s){this.id=t,this.size=e,this.offset=i,this.dataOffset=s,this.end=s+e,this.status=!0}init(t,e,i,s){this.id=t,this.size=e,this.offset=i,this.dataOffset=s,this.end=s+e,this.status=!0}reset(){this.status=!1}getData(){return{id:this.id,size:this.size,offset:this.offset,dataOffset:this.dataOffset,end:this.end}}}},662:(t,e,i)=>{const s=i(476),r=i(224),a=i(244),n=i(181),h=i(676),l=i(359),u=i(823),{findClosestNumber:c}=i(160),{MAIN_ElEMENT_ID:d,MAIN_ElEMENT_ID_STRING:o}=i(559),{ERROR_TYPE:f}=i(422);t.exports=class{constructor(){this.dataInterface=new s(this),this.currentElementHeader=new u(-1,-1,-1,-1),this.currentElementHeader.reset(),this.elementEBML=null,this.segment=null,this.seekHead=null,this.info=null,this.tracks=null,this.clusters=null,this.cues=null,this.currentCluster=null,this.topElementPosition={[o.INFO]:null,[o.TRACKS]:null,[o.CUES]:null},this.videoTrack=null,this.audioTrack=null,this.videoPackets=[],this.audioPackets=[],this.isEBMLLoaded=!1,this.isEBMLHeaderLoaded=!1,this.isEBMLSegmentLoaded=!1,this.isEBMLSeekHeadLoaded=!1,this.isEBMLInfoLoaded=!1,this.isEBMLTracksLoaded=!1,this.isEBMLCuesLoaded=!1,this.isEBMLClustersLoaded=!1,this.isBasicElementsLoaded=!1,this.isMetaLoaded=!1,this.isDataLoaded=!1,this.currentFileOffset=0,this.file=null,this.fileSize=0,this.filePieceSize=1048576,Object.defineProperty(this,"duration",{get:function(){return this.info.duration<0?-1:this.info.duration/1e3}})}reset(){this.dataInterface.flush(),this.currentElementHeader=new u(-1,-1,-1,-1),this.currentElementHeader.reset(),this.elementEBML=null,this.segment=null,this.seekHead=null,this.info=null,this.tracks=null,this.clusters=null,this.cues=null,this.currentCluster=null,this.topElementPosition={[o.INFO]:null,[o.TRACKS]:null,[o.CUES]:null},this.videoTrack=null,this.audioTrack=null,this.videoPackets=[],this.audioPackets=[],this.isEBMLLoaded=!1,this.isEBMLHeaderLoaded=!1,this.isEBMLSegmentLoaded=!1,this.isEBMLSeekHeadLoaded=!1,this.isEBMLInfoLoaded=!1,this.isEBMLTracksLoaded=!1,this.isEBMLCuesLoaded=!1,this.isEBMLClustersLoaded=!1,this.isBasicElementsLoaded=!1,this.isMetaLoaded=!1,this.isDataLoaded=!1,this.currentFileOffset=0,this.file=null,this.fileSize=0,this.filePieceSize=1048576}async initFile(t,e,i){this.file&&this.reset(),this.file=t,this.fileSize=e,this.filePieceSize=i,await this.dataInterface.recieveInput()}async getMeta(){this.isBasicElementsLoaded||await this._loadBasicElements(),this.isEBMLInfoLoaded||await this._loadInfo(),console.log("info loaded"),this.isEBMLTracksLoaded||await this._loadTracks(),console.log("tracks loaded"),this.isMetaLoaded=!0;const t={info:this.info,audio:this.audioTrack,video:this.videoTrack};return console.log("meta loaded",t),t}async getData(){this.isMetaLoaded||await this.getMeta(),this.isEBMLCuesLoaded||await this._loadCues(),console.log("cues loaded"),this.isEBMLClustersLoaded||await this._loadClusters(),console.log("clusters loaded"),this.isDataLoaded=!0;const t={cues:this.cues,videoPackets:this.videoPackets,audioPackets:this.audioPackets};return console.log("data loaded",t),t}async seekFrame(t){this.isMetaLoaded||await this.getMeta(),this.isEBMLCuesLoaded||await this._loadCues(),console.log("cues loaded");const e=await this._seek(t);return console.log("seek frame",t,e),e}async _seek(t){const e=this.cues?.entries||[];if(0==e.length)return null;const i=1e3*t,s=c(e.map((t=>t.cueTime)),i),r=e[s].cueTrackPositions.cueClusterPosition,a=e[s].cueTrackPositions.cueRelativePosition;return r&&a?(await this._jumpToSegmentOffset(r),await this._loadClustersBlock(a)||null):null}async _loadBasicElements(){await this._loadEBML(!0),console.log("ebml loaded"),await this._loadSeekHead(),console.log("seekhead loaded"),this.isBasicElementsLoaded=!0,console.log("basic loaded")}async _loadEBML(t=!1){const e="loadEBML";if(this.isEBMLLoaded)return;const i=this.dataInterface;if(this.isEBMLHeaderLoaded||(this.elementEBML||(this.elementEBML=await i.peekElement(),this.elementEBML||this._handleError(f.PICK_ELEMENT_ERROR,e),this.elementEBML.id!==d.EBML_HEADER&&this._handleError(f.NO_HEADER_ERROR,e)),t&&!1===await this.dataInterface.skipBytes(this.elementEBML.end-i.offset)&&this._handleError(f.SKIP_BYTE_ERROR,e),this.isEBMLHeaderLoaded=!0),!this.isEBMLSegmentLoaded){const t=await this.dataInterface.peekElement();t.status||this._handleError(f.PICK_ELEMENT_ERROR,e),t.id===d.SEGMENT?(this.segment=t,this.isEBMLSegmentLoaded=!0):!1===await this.dataInterface.skipBytes(t.size)&&this._handleError(f.SKIP_BYTE_ERROR,e)}this.isEBMLLoaded=!0}async _loadSeekHead(){const t="loadSeekHead";if(!this.isEBMLSeekHeadLoaded)for(;this.dataInterface.offset<this.currentFileOffset&&!this.isEBMLSeekHeadLoaded;)this.currentElementHeader.status||(await this.dataInterface.peekAndSetElement(this.currentElementHeader),this.currentElementHeader.status||this._handleError(f.PICK_ELEMENT_ERROR,t)),this.currentElementHeader.id===d.SEEK_HEAD?(await this._parseSeekHead()||this._handleError(f.PARSE_SEEKHEAD_ERROR,t),this.isEBMLSeekHeadLoaded=!0,this._getTopELementDetails()):!1===await this.dataInterface.skipBytes(this.currentElementHeader.size)&&this._handleError(f.SKIP_BYTE_ERROR,t),this.currentElementHeader.reset()}async _loadInfo(){const t="loadInfo";if(this.isEBMLInfoLoaded)return;const e=this.topElementPosition[o.INFO]||0;for(await this._jumpToSegmentOffset(e);this.dataInterface.offset<this.currentFileOffset&&!this.isEBMLInfoLoaded;)this.currentElementHeader.status||(await this.dataInterface.peekAndSetElement(this.currentElementHeader),this.currentElementHeader.status||this._handleError(f.PICK_ELEMENT_ERROR,t)),this.currentElementHeader.id===d.INFO?(await this._parseSegmentInfo()||this._handleError(f.PARSE_INFO_ERROR,t),this.isEBMLInfoLoaded=!0):!1===await this.dataInterface.skipBytes(this.currentElementHeader.size)&&this._handleError(f.SKIP_BYTE_ERROR,t),this.currentElementHeader.reset()}async _loadTracks(){const t="loadTracks";if(this.isEBMLTracksLoaded)return;const e=this.topElementPosition[o.TRACKS]||0;for(await this._jumpToSegmentOffset(e);this.dataInterface.offset<this.currentFileOffset&&!this.isEBMLTracksLoaded;)this.currentElementHeader.status||(await this.dataInterface.peekAndSetElement(this.currentElementHeader),this.currentElementHeader.status||this._handleError(f.PICK_ELEMENT_ERROR,t)),this.currentElementHeader.id===d.TRACKS?(await this._parseTracks()||this._handleError(f.PARSE_TRACKS_ERROR,t),this.isEBMLTracksLoaded=!0,this._getTracksDetails()):!1===await this.dataInterface.skipBytes(this.currentElementHeader.size)&&this._handleError(f.SKIP_BYTE_ERROR,t),this.currentElementHeader.reset()}async _loadCues(){const t="loadCues";if(this.isEBMLCuesLoaded)return;const e=this.topElementPosition[o.CUES]||0;for(await this._jumpToSegmentOffset(e);this.dataInterface.offset<this.currentFileOffset&&!this.isEBMLCuesLoaded;)this.currentElementHeader.status||(await this.dataInterface.peekAndSetElement(this.currentElementHeader),this.currentElementHeader.status||this._handleError(f.PICK_ELEMENT_ERROR,t)),this.currentElementHeader.id===d.CUES?(await this._parseCues()||this._handleError(f.PARSE_CUES_ERROR,t),this.isEBMLCuesLoaded=!0):!1===await this.dataInterface.skipBytes(this.currentElementHeader.size)&&this._handleError(f.SKIP_BYTE_ERROR,t),this.currentElementHeader.reset()}async _loadClusters(){const t="loadClusters";if(!this.isEBMLClustersLoaded){for(await this._jumpToSegmentOffset(0);this.dataInterface.offset<this.currentFileOffset;){if(!this.currentElementHeader.status&&(await this.dataInterface.peekAndSetElement(this.currentElementHeader),!this.currentElementHeader.status)){if(this.dataInterface.offset==this.fileSize)break;this._handleError(f.PICK_ELEMENT_ERROR,t)}console.log("load cluster"),this.currentElementHeader.id===d.CLUSTER?await this._parseCluster()||this._handleError(f.PARSE_CLUSTERS_ERROR,t):!1===await this.dataInterface.skipBytes(this.currentElementHeader.size)&&this._handleError(f.SKIP_BYTE_ERROR,t),this.currentElementHeader.reset()}this.isEBMLClustersLoaded=!0}}async _loadClustersBlock(t){let e=null;this.currentElementHeader.status||(await this.dataInterface.peekAndSetElement(this.currentElementHeader),this.currentElementHeader.status||this._handleError(f.PICK_ELEMENT_ERROR,"loadClustersBlock")),this.currentElementHeader.id==d.CLUSTER&&(this.currentCluster=new h(this.currentElementHeader.offset,this.currentElementHeader.size,this.currentElementHeader.end,this.currentElementHeader.dataOffset,this.dataInterface,this)),await this.currentCluster.loadTimeCode();const i=this.currentCluster.dataOffset+t;return await this._jumpToFileOffset(i),e=await this.currentCluster.loadBlock(),this.currentElementHeader.reset(),e}async _parseSeekHead(){return this.seekHead||(this.seekHead=new r(this.currentElementHeader.getData(),this.dataInterface)),await this.seekHead.load(),!!this.seekHead.loaded}async _parseSegmentInfo(){return this.info||(this.info=new a(this.currentElementHeader.getData(),this.dataInterface)),await this.info.load(),!!this.info.loaded}async _parseTracks(){return this.tracks||(this.tracks=new n(this.currentElementHeader.getData(),this.dataInterface,this)),await this.tracks.load(),!!this.tracks.loaded}async _parseCues(){return this.cues||(this.cues=new l(this.currentElementHeader.getData(),this.dataInterface,this)),await this.cues.load(),!!this.cues.loaded}async _parseCluster(){const t=new h(this.currentElementHeader.offset,this.currentElementHeader.size,this.currentElementHeader.end,this.currentElementHeader.dataOffset,this.dataInterface,this);return await t.load(),!!t.loaded}_getTopELementDetails(){this.seekHead.entries.map((t=>({id:"0x"+t.seekId.toString(16),size:t.size,position:t.seekPosition>>>0}))).forEach((t=>{this.topElementPosition[t.id]=t.position>0?t.position:0}))}_getTracksDetails(){this.videoTrack=this.tracks.trackEntries.filter((t=>1===t.trackType))?.[0]||null,this.audioTrack=this.tracks.trackEntries.filter((t=>2===t.trackType))?.[0]||null}async _jumpToFileOffset(t){await this.dataInterface.jumpToPosition(t),this.dataInterface.overallPointer!==t&&this._handleError(f.JUMP_TO_POSITION_ERROR,"jumpToFileOffset")}async _jumpToSegmentOffset(t){const e=this.segment.dataOffset+t;await this.dataInterface.jumpToPosition(e),this.dataInterface.overallPointer!==e&&this._handleError(f.JUMP_TO_POSITION_ERROR,"jumpToSegmentOffset")}_handleError(t,e){throw{errorType:t,errorScope:e}}}},942:t=>{t.exports=class{constructor(t,e){this.size=t.size,this.offset=t.offset,this.end=t.end,this.dataInterface=e,this.loaded=!1,this.currentElement=null,this.seekId=-1,this.seekPosition=-1}async load(){for(;this.dataInterface.offset<this.end;){if(!this.currentElement&&(this.currentElement=await this.dataInterface.peekElement(),null===this.currentElement))return;switch(this.currentElement.id){case 21419:{const t=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===t)return;this.seekId=t;break}case 21420:{const t=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===t)return;this.seekPosition=t;break}case 191:if(null===await this.dataInterface.getBinary(this.currentElement.size))return;break;default:if(!1===await this.dataInterface.skipBytes(this.currentElement.size))return}this.currentElement=null}this.loaded=!0}}},224:(t,e,i)=>{const s=i(942);t.exports=class{constructor(t,e){this.dataInterface=e,this.offset=t.offset,this.size=t.size,this.end=t.end,this.entries=[],this.loaded=!1,this.tempEntry=null,this.currentElement=null}async load(){for(;this.dataInterface.offset<this.end;){if(!this.currentElement&&(this.currentElement=await this.dataInterface.peekElement(),null===this.currentElement))return;switch(this.currentElement.id){case 19899:if(this.tempEntry||(this.tempEntry=new s(this.currentElement,this.dataInterface)),await this.tempEntry.load(),!this.tempEntry.loaded)return;this.entries.push(this.tempEntry);break;case 191:if(null===await this.dataInterface.getBinary(this.currentElement.size))return;break;default:if(!1===await this.dataInterface.skipBytes(this.currentElement.size))return}this.tempEntry=null,this.currentElement=null}this.loaded=!0}}},244:t=>{t.exports=class{constructor(t,e){this.dataInterface=e,this.offset=t.offset,this.size=t.size,this.end=t.end,this.muxingApp=null,this.writingApp=null,this.title=null,this.dataOffset=null,this.timecodeScale=1e6,this.duration=-1,this.loaded=!1,this.segmentUID=null,this.duration=null,this.dateUTC}async load(){for(;this.dataInterface.offset<this.end;){if(!this.currentElement&&(this.currentElement=await this.dataInterface.peekElement(),null===this.currentElement))return;switch(this.currentElement.id){case 2807729:const t=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===t)return;this.timecodeScale=t;break;case 19840:const e=await this.dataInterface.readString(this.currentElement.size);if(null===e)return;this.muxingApp=e;break;case 22337:const i=await this.dataInterface.readString(this.currentElement.size);if(null===i)return;this.writingApp=i;break;case 31657:const s=await this.dataInterface.readString(this.currentElement.size);if(null===s)return;this.title=s;break;case 29604:const r=await this.dataInterface.readString(this.currentElement.size);if(null===r)return;this.segmentUID=r;break;case 17545:const a=await this.dataInterface.readFloat(this.currentElement.size);if(null===a)return;this.duration=a;break;case 17505:const n=await this.dataInterface.readDate(this.currentElement.size);if(null===n)return;this.dateUTC=n;break;case 191:if(null===await this.dataInterface.getBinary(this.currentElement.size))return;break;default:if(!1===await this.dataInterface.skipBytes(this.currentElement.size))return}this.currentElement=null}this.loaded=!0}}},202:t=>{t.exports=class{constructor(){this.cluster,this.demuxer,this.dataInterface,this.offset,this.dataOffset,this.size,this.end,this.loaded=!1,this.trackNumber=null,this.timeCode=-1,this.flags=null,this.keyFrame=!1,this.invisible=!1,this.lacing=0,this.discardable=!1,this.lacedFrameCount=null,this.headerSize=null,this.frameSizes=[],this.tempCounter=null,this.tempFrame=null,this.track=null,this.frameLength=null,this.isLaced=!1,this.stop=null,this.status=!1,this.ebmlLacedSizes=[],this.ebmlParsedSizes=[],this.ebmlLacedSizesParsed=!1}init(t,e,i,s,r,a){this.cluster=a,this.demuxer=this.cluster.demuxer,this.dataInterface=r,this.offset=t,this.dataOffset=s,this.size=e,this.end=i,this.loaded=!1,this.trackNumber=null,this.timeCode=null,this.flags=null,this.keyFrame=!1,this.invisible=!1,this.lacing=0,this.discardable=!1,this.lacedFrameCount=null,this.headerSize=null,this.frameSizes=[],this.tempCounter=null,this.tempFrame=null,this.track=null,this.frameLength=null,this.isLaced=!1,this.stop=this.offset+this.size,this.status=!0,this.trackEntries=this.demuxer.tracks.trackEntries,this.videoPackets=this.demuxer.videoPackets,this.audioPackets=this.demuxer.audioPackets,this.laceFrameHelper=null,this.lacedFrameHeaderSize=null,this.ebmlLacedSizes=[],this.lacedFrameDataSize=null,this.fixedFrameLength=null,this.firstLacedFrameSize=null,this.ebmlParsedSizes=[],this.ebmlLacedSizesParsed=!1}reset(){this.status=!1}loadTrack(){this.track=this.trackEntries[this.trackNumber-1]}async load(t){const e=this.dataInterface;let i,s,r,a;if(this.loaded)return;if(null===this.trackNumber){if(this.trackNumber=await e.readVint(),null===this.trackNumber)return;this.loadTrack()}if(null===this.timeCode&&(this.timeCode=await e.readUnsignedInt(2),null===this.timeCode))return;if(null===this.flags){if(this.flags=await e.readUnsignedInt(1),null===this.flags)return;if(this.keyFrame=0!=(this.flags>>7&1),this.invisible=0==(this.flags>>2&1),this.lacing=(6&this.flags)>>1,this.lacing>3||this.lacing<0)return void console.warn("INVALID LACING")}this.headerSize||(this.headerSize=e.offset-this.dataOffset);let n=null,h=0;switch(this.lacing){case 2:if(!this.frameLength&&(this.frameLength=this.size-this.headerSize,this.frameLength<=0))return void console.warn("INVALID FRAME LENGTH "+this.frameLength);if(!this.lacedFrameCount){if(this.lacedFrameCount=await e.readUnsignedInt(1),null===this.lacedFrameCount)return;this.lacedFrameCount++}if(s=e.offset,n=await e.getBinary(this.frameLength-1),r=e.offset,null===n)return;if(this.fixedFrameLength=(this.frameLength-1)/this.lacedFrameCount,h=this.timeCode+this.cluster.timeCode,a=h/1e3,a<0)return void console.warn("INVALID TIMESTAMP");for(let e=0;e<this.lacedFrameCount;e++)if(1===this.track.trackType){let e={start:s,end:r,timestamp:a,keyframeTimestamp:a,isKeyframe:this.keyFrame,size:n.byteLength};t?this.videoPackets.push(e):i=e}else if(2===this.track.trackType){let e={start:s,end:r,timestamp:a,size:n.byteLength};t?this.audioPackets.push(e):i=e}break;case 3:if(!this.frameLength&&(this.frameLength=this.size-this.headerSize,this.frameLength<=0))return void console.warn("INVALID FRAME LENGTH "+this.frameLength);if(!this.lacedFrameCount){if(this.lacedFrameCount=await e.readUnsignedInt(1),null===this.lacedFrameCount)return;this.lacedFrameCount++}if(!this.firstLacedFrameSize){const t=await e.readVint();if(null===t)return;this.firstLacedFrameSize=t,this.ebmlLacedSizes.push(this.firstLacedFrameSize)}for(this.tempCounter||(this.tempCounter=0);this.tempCounter<this.lacedFrameCount-1;){const t=await e.readLacingSize();if(null===t)return;this.ebmlLacedSizes.push(t),this.tempCounter++}if(!this.ebmlLacedSizesParsed){this.ebmlParsedSizes[0]=this.ebmlLacedSizes[0];let t=this.ebmlParsedSizes[0];for(let e=1;e<this.lacedFrameCount-1;e++)this.ebmlParsedSizes[e]=this.ebmlLacedSizes[e]+this.ebmlParsedSizes[e-1],t+=this.ebmlParsedSizes[e];this.lacedFrameDataSize||(this.lacedFrameDataSize=this.end-e.offset);const i=this.lacedFrameDataSize-t;this.ebmlParsedSizes.push(i),this.ebmlLacedSizesParsed=!0,this.ebmlTotalSize=t+i}if(s=e.offset,n=await e.getBinary(this.lacedFrameDataSize),r=e.offset,null===n)return;if(h=this.timeCode+this.cluster.timeCode,a=h/1e3,a<0)return void console.warn("INVALID TIMESTAMP");let l=0,u=this.ebmlParsedSizes[0];for(let e=0;e<this.lacedFrameCount;e++){if(1===this.track.trackType){let e={start:s,end:r,timestamp:a,keyframeTimestamp:a,isKeyframe:this.keyFrame,size:n.byteLength};t?this.videoPackets.push(e):i=e}else if(2===this.track.trackType){let e={start:s,end:r,timestamp:a,size:n.byteLength};t?this.audioPackets.push(e):i=e}l+=this.ebmlParsedSizes[e],u+=this.ebmlParsedSizes[e],e===this.lacedFrameCount-1&&(u=null)}this.tempCounter=null,n=null;break;case 1:case 0:if(3===this.lacing&&console.warn("EBML_LACING"),1===this.lacing&&console.warn("XIPH_LACING"),!this.frameLength&&(this.frameLength=this.size-this.headerSize,this.frameLength<=0))return void console.warn("INVALID FRAME LENGTH "+this.frameLength);if(s=e.offset,n=await e.getBinary(this.frameLength),r=e.offset,null===n)return;if(!0===e.usingBufferedRead)return void console.warn("SHOULD NOT BE BUFFERED READ");if(n.byteLength!==this.frameLength)return void console.warn("INVALID FRAME");if(h=this.timeCode+this.cluster.timeCode,a=h/1e3,a<0)return void console.warn("INVALID TIMESTAMP");if(1===this.track.trackType){let e={start:s,end:r,timestamp:a,keyframeTimestamp:a,isKeyframe:this.keyFrame,size:n.byteLength};t?this.videoPackets.push(e):i=e}else if(2===this.track.trackType){let e={start:s,end:r,timestamp:a,size:n.byteLength};t?this.audioPackets.push(e):i=e}n=null;break;default:return}return this.loaded=!0,this.headerSize=null,this.tempFrame=null,this.tempCounter=null,this.frameLength=null,i}}},534:t=>{t.exports=class{loadMeta(t){for(const e in t)this[e]=t[e]}}},181:(t,e,i)=>{const s=i(969),r=i(50),a=i(534);class n{constructor(t,e){this.dataInterface=e,this.offset=t.offset,this.size=t.size,this.end=t.end,this.loaded=!1,this.trackData={trackNumber:null,trackType:null,name:null,codecName:null,defaultDuration:null,codecID:null,lacing:null,codecPrivate:null,codecDelay:null,seekPreRoll:null,trackUID:null},this.tempTrack=null,this.minCache=null}async load(){const t=this.end;for(;this.dataInterface.offset<t;){if(!this.currentElement&&(this.currentElement=await this.dataInterface.peekElement(),null===this.currentElement))return;switch(this.currentElement.id){case 224:if(this.tempTrack||(this.tempTrack=new r(this.currentElement,this.dataInterface)),await this.tempTrack.load(),!this.tempTrack.loaded)return;break;case 225:if(this.tempTrack||(this.tempTrack=new s(this.currentElement,this.dataInterface)),await this.tempTrack.load(),!this.tempTrack.loaded)return;break;case 215:{const t=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===t)return;this.trackData.trackNumber=t;break}case 131:{const t=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===t)return;this.trackData.trackType=t;break}case 21358:{const t=await this.dataInterface.readString(this.currentElement.size);if(null===t)return;this.trackData.name=t;break}case 2459272:{const t=await this.dataInterface.readString(this.currentElement.size);if(null===t)return;this.trackData.codecName=t;break}case 2274716:const t=await this.dataInterface.readString(this.currentElement.size);if(null===t)return;this.trackData.language=t;break;case 2352003:const e=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===e)return;this.trackData.defaultDuration=e;break;case 134:const i=await this.dataInterface.readString(this.currentElement.size);if(null===i)return;this.trackData.codecID=i;break;case 156:const a=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===a)return;this.trackData.lacing=a;break;case 185:const n=await this.dataInterface.getBinary(this.currentElement.size);if(null===n)return;this.trackData.flagEnabled=n;break;case 21930:const h=await this.dataInterface.getBinary(this.currentElement.size);if(null===h)return;this.trackData.flagForced=h;break;case 25506:const l=await this.dataInterface.getBinary(this.currentElement.size);if(null===l)return;this.trackData.codecPrivate=l;break;case 22186:const u=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===u)return;this.trackData.codecDelay=u;break;case 22203:const c=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===c)return;this.trackData.seekPreRoll=c;break;case 29637:const d=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===d)return;this.trackData.trackUID=d;break;case 28135:const o=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===o)return;this.trackData.minCache=o;break;case 191:if(null===await this.dataInterface.getBinary(this.currentElement.size))return;break;case 136:const f=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===f)return;this.flagDefault=f;break;default:if(!1===await this.dataInterface.skipBytes(this.currentElement.size))return}this.currentElement=null}this.loaded=!0}getTrackEntry(){this.tempTrack=this.tempTrack||new a,this.tempTrack.loadMeta(this.trackData);const t=this.tempTrack;return this.tempTrack=null,t}}t.exports=class{constructor(t,e,i){this.demuxer=i,this.dataInterface=e,this.offset=t.offset,this.size=t.size,this.end=t.end,this.trackEntries=[],this.loaded=!1,this.currentElement=null,this.trackLoader=null}async load(){for(;this.dataInterface.offset<this.end;){if(!this.currentElement&&(this.currentElement=await this.dataInterface.peekElement(),null===this.currentElement))return;switch(this.currentElement.id){case 174:if(this.trackLoader||(this.trackLoader=new n(this.currentElement,this.dataInterface)),await this.trackLoader.load(),!this.trackLoader.loaded)return;{const t=this.trackLoader.getTrackEntry();this.trackLoader=null,this.trackEntries.push(t)}break;case 191:if(null===await this.dataInterface.getBinary(this.currentElement.size))return;break;default:if(!1===await this.dataInterface.skipBytes(this.currentElement.size))return}this.currentElement=null}this.loaded=!0}}},50:(t,e,i)=>{const s=i(534);t.exports=class extends s{constructor(t,e){super(),this.dataInterface=e,this.offset=t.offset,this.size=t.size,this.end=t.end,this.loaded=!1,this.width=null,this.height=null,this.displayWidth=null,this.displayHeight=null,this.displayUnit=0,this.stereoMode=null,this.frameRate=null,this.pixelCropBottom=0,this.pixelCropTop=0,this.pixelCropLeft=0,this.pixelCropRight=0}async load(){for(;this.dataInterface.offset<this.end;){if(!this.currentElement&&(this.currentElement=await this.dataInterface.peekElement(),null===this.currentElement))return;switch(this.currentElement.id){case 176:{const t=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===t)return;this.width=t;break}case 186:{const t=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===t)return;this.height=t;break}case 21680:{const t=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===t)return;this.displayWidth=t;break}case 21690:{const t=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===t)return;this.displayHeight=t;break}case 21682:{const t=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===t)return;this.displayUnit=t;break}case 21432:{const t=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===t)return;this.stereoMode=t;break}case 2327523:{const t=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===t)return;this.frameRate=t;break}case 154:{const t=await this.dataInterface.readUnsignedInt(this.currentElement.size);if(null===t)return;this.flagInterlaced=t;break}case 21936:await this.dataInterface.readUnsignedInt(this.currentElement.size);break;default:if(!1===await this.dataInterface.skipBytes(this.currentElement.size))return}this.currentElement=null}this.displayWidth||(this.displayWidth=this.width-this.pixelCropLeft),this.displayHeight||(this.displayHeight=this.height-this.pixelCropTop),this.loaded=!0}}},559:(t,e,i)=>{"use strict";i.r(e),i.d(e,{MAIN_ElEMENT_ID:()=>s,MAIN_ElEMENT_ID_STRING:()=>r});const s={EBML_HEADER:440786851,SEGMENT:408125543,SEEK_HEAD:290298740,INFO:357149030,TRACKS:374648427,CUES:475249515,CLUSTER:524531317,VOID:236},r={EBML_HEADER:"0x1a45dfa3",SEGMENT:"0x18538067",SEEK_HEAD:"0x114d9b74",INFO:"0x1549a966",TRACKS:"0x1654ae6b",CUES:"0x1c53bb6b",CLUSTER:"0x1f43b675",VOID:"0xec"}},422:(t,e,i)=>{"use strict";i.r(e),i.d(e,{ERROR_TYPE:()=>s});const s={LOAD_EBML_ERROR:"LOAD_EBML_ERROR",NO_HEADER_ERROR:"NO_HEADER_ERROR",PARSE_HEADER_ERROR:"PARSE_HEADER_ERROR",PARSE_SEGMENT_ERROR:"PARSE_SEGMENT_ERROR",PARSE_SEEKHEAD_ERROR:"PARSE_SEEKHEAD_ERROR",PARSE_INFO_ERROR:"PARSE_INFO_ERROR",PARSE_TRACKS_ERROR:"PARSE_TRACKS_ERROR",PARSE_CUES_ERROR:"PARSE_CUES_ERROR",PARSE_CLUSTERS_ERROR:"PARSE_CLUSTERS_ERROR",PARSE_SINGLE_CLUSTER_ERROR:"PARSE_SINGLE_CLUSTER_ERROR",DATA_INTERFACE_ERROR:"DATA_INTERFACE_ERROR",PICK_ELEMENT_ERROR:"PICK_ELEMENT_ERROR",SKIP_BYTE_ERROR:"SKIP_BYTE_ERROR",JUMP_TO_POSITION_ERROR:"JUMP_TO_POSITION_ERROR"}},160:(t,e,i)=>{"use strict";function s(t,e){let i,s=0,r=t.length-1;for(;r-s>1;)i=Math.floor((s+r)/2),e<t[i]?r=i:s=i;return Math.abs(e-t[s])<=Math.abs(e-t[r])?s:r}function r(t,e){let i;for(var s=0,r=t.length-1;s<=r;){if(i=Math.floor((s+r)/2),e===t[i])return i;e>t[i]?s=i+1:r=i-1}return-1}i.r(e),i.d(e,{findClosestNumber:()=>s,findNumber:()=>r})}},e={};function i(s){var r=e[s];if(void 0!==r)return r.exports;var a=e[s]={exports:{}};return t[s](a,a.exports,i),a.exports}i.d=(t,e)=>{for(var s in e)i.o(e,s)&&!i.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})},i.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),i.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var s=i(662);window.MkvDemuxer=s})();